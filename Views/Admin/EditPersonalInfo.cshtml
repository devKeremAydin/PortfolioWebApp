@model PortfolioWebApp.Models.PersonalInfo

@{
    ViewBag.Title = "Kişisel Bilgileri Düzenle";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<h2 class="t-white">Kişisel Bilgileri Güncelle</h2>

@using (Html.BeginForm("EditPersonalInfo", "Admin", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()

    <div class="form-div">
        <label class="t-white">Ad:</label><br />
        @Html.TextBoxFor(m => m.FirstName, new { @class = "poppins", required = "required", placeholder = "Adınızı girin" })
    </div>

    <div class="form-div">
        <label class="t-white">Soyad:</label><br />
        @Html.TextBoxFor(m => m.LastName, new { @class = "poppins", required = "required", placeholder = "Soyadınızı girin" })
    </div>

    <div class="form-div">
        <label class="t-white">Hakkımda Metni:</label><br />
        @Html.TextAreaFor(m => m.AboutText, new { @class = "poppins", rows = 5, placeholder = "Hakkınızda kısa bir açıklama yazın..." })
    </div>

    <div class="form-div">
        <label class="t-white">CV (PDF):</label><br />
        <input type="file" name="CvFile" class="poppins" />
        @if (!string.IsNullOrEmpty(Model.CvPath))
        {
            <p class="t-white m-top">Yüklü CV: <a href="@Url.Content(Model.CvPath)" target="_blank" style="color:lightblue;">Görüntüle</a></p>
        }
    </div>

    <div class="form-div">
        <label class="t-white">Profil Fotoğrafı:</label><br />
        <input type="file" name="ProfileImage" class="poppins" />
        @if (!string.IsNullOrEmpty(Model.ProfileImagePath))
        {
            <p class="t-white m-top">Mevcut Fotoğraf:</p>
            <img src="@Url.Content(Model.ProfileImagePath)" style="width:100px; height:auto; border-radius: 8px;" />
        }
    </div>

    <button type="submit" class="btn poppins m-top">Kaydet</button>
}

<!-- Metni Sil Butonu -->
@using (Html.BeginForm("ClearAboutText", "Admin", FormMethod.Post))
{
    @Html.AntiForgeryToken()
    <button type="submit" class="btn poppins" style="margin-top: 1rem; background-color: red; color: white;">Hakkımda Metnini Sil</button>
}

@if (ViewBag.Message != null)
{
    <p class="t-white m-top">@ViewBag.Message</p>
}
